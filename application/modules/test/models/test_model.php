<?php
/* 
 * Generated by CRUDigniter v3.2 
 * www.crudigniter.com
 */
 
class Test_model extends CI_Model
{
    function __construct()
    {
        parent::__construct();
    }

    
    /*
     * Get subject by id
     */
     function get_student_count()
     {

        ##will improve
        $this->db->select('debit,id as ids');
       // $this->db->where('class_id',);
     $query=$this->db->get('account_transaction')->result();
      return $query;

}

function templatetest($school_id,$module)
{
  $this->db->select('*');
  $this->db->from('template_email');
  $this->db->where(array('school_id'=>1,'module'=>'student edit'));
  return $this->db->get()->row();

}
 function get_all_student($schoolId,$ids)
    {


     $this->db->select('student.email,student.mobile');
     // $this->db->order_by('id', 'desc');

     $this->db->from('map_school_student');
     $this->db->where(array('school_id'=>$schoolId,'student.id'=>$ids));
     $this->db->join('school', 'map_school_student.school_id=school.id', 'Left');
     $this->db->join('student', 'map_school_student.student_id=student.id', 'Left');
        // $this->db->join('authentication', 'authentication.student_id=student.id', 'Left');
     return $this->db->get()->result_array();
   }
function get_all_students($ids)
    {


     $this->db->select('student.email,student.mobile');
     // $this->db->order_by('id', 'desc');

     $this->db->from('student');
     $this->db->where('student.id',$ids);
     // $this->db->join('school', 'map_school_student.school_id=school.id', 'Left');
     // $this->db->join('student', 'map_school_student.student_id=student.id', 'Left');
        // $this->db->join('authentication', 'authentication.student_id=student.id', 'Left');
     return $this->db->get()->result_array();
   }
function data_sms($data)
{
   $this->db->insert('test',$data);
      return $this->db->insert_id();
}
function get_all_employee($data)
{

   $this->db->insert('test',$data);
      return $this->db->insert_id();
}
function get_all_employees($ids)
    {


     $this->db->select('*');
     // $this->db->order_by('id', 'desc');

     $this->db->from('employees');
     $this->db->where('employees.id',$ids);
     // $this->db->join('school', 'map_school_student.school_id=school.id', 'Left');
     // $this->db->join('student', 'map_school_student.student_id=student.id', 'Left');
        // $this->db->join('authentication', 'authentication.student_id=student.id', 'Left');
     return $this->db->get()->result_array();
   }
}
?>